<UserControl
    x:Class="Sem2Proj.Views.OptimizerView"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:lvc="using:LiveChartsCore.SkiaSharpView.Avalonia"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:vm="using:Sem2Proj.ViewModels"
    d:DesignHeight="450"
    d:DesignWidth="800"
    x:DataType="vm:OptimizerViewModel"
    mc:Ignorable="d">

    <Design.DataContext>
        <vm:OptimizerViewModel />
    </Design.DataContext>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>

        <!--  Collapsible Side Menu  -->
        <Border
            Grid.Column="0"
            Width="{Binding PaneWidth}"
            Background="#252526"
            BorderBrush="LightGray">
            <Grid>
                <StackPanel
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Spacing="10">
                    
                    <TextBlock
                    Grid.Row="0"
                    Margin="0,10"
                    HorizontalAlignment="Left"
                    Text="Optimization Period"
                    FontSize="18" />
                    <RadioButton Content="Summer" GroupName="SeasonGroup" />
                    <RadioButton Content="Winter" GroupName="SeasonGroup" />

                    <TextBlock
                    Grid.Row="0"
                    Margin="0,10"
                    HorizontalAlignment="Left"
                    Text="Optimization Preference"
                    FontSize="18" />
                    <RadioButton Content="Cost" GroupName="OptimizationGroup" />
                    <RadioButton Content="CO2" GroupName="OptimizationGroup" />

                    <Button
                        Width="110"
                        Height="50"
                        HorizontalAlignment="Center"
                        Classes="FancyGreenButton"
                        Content="Optimize">
                        <Button.Styles>
                            <Style Selector="Button.FancyGreenButton">
                                <Setter Property="Background" Value="#2ecc71" />
                                <Setter Property="Foreground" Value="White" />
                                <Setter Property="Padding" Value="15,5" />
                                <Setter Property="FontSize" Value="16" />
                                <Setter Property="FontWeight" Value="Bold" />
                                <Setter Property="CornerRadius" Value="8" />
                            </Style>
                        </Button.Styles>
                    </Button>
                </StackPanel>
            </Grid>
        </Border>

        <!--  Main Content Area  -->
        <Border Grid.Column="1" Background="#1e1e1e">
            <Grid RowDefinitions="Auto,*">
                <TextBlock
                    Grid.Row="0"
                    Margin="0,10"
                    HorizontalAlignment="Center"
                    FontSize="24"
                    Text="{Binding Title}" />

                <lvc:CartesianChart
                    Grid.Row="1"
                    Series="{Binding Series}"
                    XAxes="{Binding XAxes}"
                    YAxes="{Binding YAxes}" />

                <!--  Toggle Button in main content  -->
                <Button
                    Width="30"
                    Height="30"
                    Margin="5"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Top"
                    Command="{Binding TriggerPaneCommand}"
                    IsVisible="{Binding !IsPaneOpen}">
                    <PathIcon Data="M24,10.49a7.53,7.53,0,0,0-7.35,6H9a1.5,1.5,0,0,0,0,3h7.65a7.5,7.5,0,1,0,7.35-9Zm0,12A4.51,4.51,0,1,1,28.5,18,4.52,4.52,0,0,1,24,22.51Z M63,19.5H36a1.5,1.5,0,0,1,0-3H63a1.5,1.5,0,0,1,0,3Z M63,55.5H36a1.5,1.5,0,0,1,0-3H63a1.5,1.5,0,0,1,0,3Z M24,46.51a7.51,7.51,0,0,0-7.35,6H9A1.49,1.49,0,0,0,7.5,54,1.51,1.51,0,0,0,9,55.51h7.65a7.5,7.5,0,1,0,7.35-9Zm0,12A4.5,4.5,0,1,1,28.5,54,4.51,4.51,0,0,1,24,58.51Z M36,37.5H9a1.5,1.5,0,0,1,0-3H36a1.5,1.5,0,0,1,0,3Z M63,34.51H55.35a7.5,7.5,0,1,0,0,3H63A1.51,1.51,0,0,0,64.5,36,1.49,1.49,0,0,0,63,34.51Zm-15,6A4.5,4.5,0,1,1,52.5,36,4.51,4.51,0,0,1,48,40.51Z" />
                </Button>
            </Grid>
        </Border>

        <!--  Toggle Button in side panel when panel is open  -->
        <Button
            Grid.Column="0"
            Width="30"
            Height="30"
            Margin="0,5,5,0"
            HorizontalAlignment="Right"
            VerticalAlignment="Top"
            Command="{Binding TriggerPaneCommand}"
            IsVisible="{Binding IsPaneOpen}">
            <PathIcon Data="M51,19.5a1.5,1.5,0,0,1-1.5,1.5H11.12L26.56,36.55a1.51,1.51,0,0,1,0,2.12,1.47,1.47,0,0,1-1.06.44,1.45,1.45,0,0,1-1.06-.44l-18-18a1.5,1.5,0,0,1,0-2.12l18-18a1.5,1.5,0,1,1,2.12,2.12L11.12,18H49.5A1.5,1.5,0,0,1,51,19.5Z M1.5,39a1.5,1.5,0,0,1-1.5-1.5v-36a1.5,1.5,0,0,1,3,0v36A1.5,1.5,0,0,1,1.5,39Z" />
        </Button>
    </Grid>
</UserControl>
