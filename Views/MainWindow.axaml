<Window
    x:Class="Sem2Proj.Views.MainWindow"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:Sem2Proj.Views"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:vm="using:Sem2Proj.ViewModels"
    Title="TitleShouldNotBeVisible"
    Width="1250"
    Height="800"
    MinWidth="1250"
    MinHeight="45"
    d:DesignHeight="800"
    d:DesignWidth="1250"
    x:DataType="vm:MainWindowViewModel"
    Background="Transparent"
    ExtendClientAreaToDecorationsHint="True"
    Icon="/Assets/avalonia-logo.ico"
    TransparencyLevelHint="AcrylicBlur"
    WindowStartupLocation="CenterScreen"
    mc:Ignorable="d">

    <!--  Custom styles  -->
    <Window.Styles>
        <!--  Style for TabItem  -->
        <Style Selector="TabItem">
            <Setter Property="Padding" Value="0,-10" />
            <Setter Property="HorizontalAlignment" Value="Stretch" />
            <Setter Property="VerticalAlignment" Value="Stretch" />
            <Setter Property="Foreground" Value="Black" />
            <Setter Property="FontSize" Value="24" />
            <Setter Property="FontWeight" Value="Bold" />
        </Style>

        <!--  Style for selected TabItem  -->
        <Style Selector="TabItem:selected">
            <Setter Property="Background">
                <Setter.Value>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                        <GradientStop Offset="0" Color="#80000000" />
                        <GradientStop Offset="1" Color="#20000000" />
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Setter Property="Foreground" Value="White" />
            <Setter Property="BorderBrush" Value="White" />
            <Setter Property="BorderThickness" Value="0,0,0,3" />
            <Setter Property="FontSize" Value="25" />
        </Style>

        <!--  Style for hovered TabItem  -->
        <Style Selector="TabItem:pointerover">
            <Setter Property="Background">
                <Setter.Value>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                        <GradientStop Offset="0" Color="#20000000" />
                        <GradientStop Offset="1" Color="#10000000" />
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Setter Property="Foreground" Value="Black" />
            <Setter Property="BorderBrush" Value="#40FFFFFF" />
            <Setter Property="BorderThickness" Value="0,0,0,3" />
            <Setter Property="FontSize" Value="25" />
        </Style>

        <!--  Style for selected and hovered TabItem  -->
        <Style Selector="TabItem:selected:pointerover">
            <Setter Property="Background">
                <Setter.Value>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                        <GradientStop Offset="0" Color="#80000000" />
                        <GradientStop Offset="1" Color="#20000000" />
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Setter Property="Foreground" Value="White" />
            <Setter Property="BorderBrush" Value="White" />
            <Setter Property="BorderThickness" Value="0,0,0,3" />
            <Setter Property="FontSize" Value="25" />
        </Style>
    </Window.Styles>

    <!--  Panel acts as a container and the background  -->
    <Panel>
        <!--  Adjusting the "background"  -->
        <ExperimentalAcrylicBorder IsHitTestVisible="False">
            <ExperimentalAcrylicBorder.Material>
                <ExperimentalAcrylicMaterial
                    BackgroundSource="Digger"
                    MaterialOpacity="0.85"
                    TintColor="Black"
                    TintOpacity="1" />
            </ExperimentalAcrylicBorder.Material>
        </ExperimentalAcrylicBorder>

        <!--  Header Testing  -->
        <Image
            Width="2500"
            Height="45"
            VerticalAlignment="Top"
            Source="../Assets/header.png"
            Stretch="UniformToFill" />

        <!--  Pages (Views)  -->
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>

            <TabControl Grid.Row="1" SelectedIndex="{Binding SelectedTabIndex}">
                <TabControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <UniformGrid Columns="4" />
                    </ItemsPanelTemplate>
                </TabControl.ItemsPanel>

                <!--  Define the HeaderTemplate for the TabItems  -->
                <TabControl.Resources>
                    <DataTemplate x:Key="TabHeaderTemplate">
                        <TextBlock
                            Padding="70,0"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            Text="{Binding}" />
                    </DataTemplate>
                </TabControl.Resources>

                <TabItem Header="Scenario Manager" HeaderTemplate="{StaticResource TabHeaderTemplate}">
                    <local:ScenarioManagerView DataContext="{Binding ScenarioManagerViewModel}" />
                </TabItem>

                <TabItem Header="Asset Manager" HeaderTemplate="{StaticResource TabHeaderTemplate}">
                    <local:AssetManagerView DataContext="{Binding AssetManagerViewModel}" />
                </TabItem>

                <TabItem Header="Optimizer" HeaderTemplate="{StaticResource TabHeaderTemplate}">
                    <local:OptimizerView DataContext="{Binding OptimizerViewModel}" />
                </TabItem>

                <TabItem>
                    <TabItem.Header>
                        <Border
                            Width="50"
                            Height="50"
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center">
                            <Image
                                Width="100"
                                Height="100"
                                Source="avares://Sem2Proj/Assets/black-danfoss-logo.png"
                                Stretch="Uniform" />
                        </Border>
                    </TabItem.Header>
                    <local:HomeView DataContext="{Binding HomeViewModel}" />
                </TabItem>
            </TabControl>
        </Grid>
    </Panel>
</Window>
