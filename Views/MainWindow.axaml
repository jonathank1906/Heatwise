<Window
    x:Class="Sem2Proj.Views.MainWindow"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:Sem2Proj.Views"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:vm="using:Sem2Proj.ViewModels"
    Title="TitleShouldNotBeVisible"
    Width="1250"
    Height="800"
    MinWidth="620"
    MinHeight="80"
    d:DesignHeight="800"
    d:DesignWidth="1250"
    x:DataType="vm:MainWindowViewModel"
    Background="Transparent"
    ExtendClientAreaTitleBarHeightHint="0"
    ExtendClientAreaToDecorationsHint="True"
    TransparencyLevelHint="AcrylicBlur"
    WindowStartupLocation="CenterScreen"
    WindowState="Maximized"
    mc:Ignorable="d">

    <!--  Custom styles  -->
    <Window.Styles>
        <!--  Style for TabItem  -->
        <Style Selector="TabItem">
            <Setter Property="Padding" Value="0,-10" />
            <Setter Property="HorizontalAlignment" Value="Stretch" />
            <Setter Property="VerticalAlignment" Value="Stretch" />
            <Setter Property="Foreground" Value="Black" />
            <Setter Property="FontSize" Value="22" />
            <Setter Property="FontWeight" Value="Bold" />
        </Style>

        <!--  Style for selected TabItem  -->
        <Style Selector="TabItem:selected">
            <Setter Property="Background">
                <Setter.Value>
                    <LinearGradientBrush StartPoint="0,50" EndPoint="0,100">
                        <GradientStop Offset="0" Color="#3F000000" />
                        <GradientStop Offset="1" Color="#10000000" />
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Setter Property="Foreground" Value="White" />
            <Setter Property="BorderBrush" Value="White" />
            <Setter Property="BorderThickness" Value="0,0,0,3" />
            <Setter Property="FontSize" Value="23" />
        </Style>

        <!--  Style for hovered TabItem  -->
        <Style Selector="TabItem:pointerover">
            <Setter Property="Background">
                <Setter.Value>
                    <LinearGradientBrush StartPoint="0,50" EndPoint="0,100">
                        <GradientStop Offset="0" Color="#20000000" />
                        <GradientStop Offset="1" Color="#10000000" />
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Setter Property="Foreground" Value="Black" />
            <Setter Property="BorderBrush" Value="#30FFFFFF" />
            <Setter Property="BorderThickness" Value="0,0,0,3" />
            <Setter Property="FontSize" Value="23" />
        </Style>

        <!--  Style for selected and hovered TabItem  -->
        <Style Selector="TabItem:selected:pointerover">
            <Setter Property="Background">
                <Setter.Value>
                    <LinearGradientBrush StartPoint="0,50" EndPoint="0,100">
                        <GradientStop Offset="0" Color="#3F000000" />
                        <GradientStop Offset="1" Color="#10000000" />
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Setter Property="Foreground" Value="White" />
            <Setter Property="BorderBrush" Value="White" />
            <Setter Property="BorderThickness" Value="0,0,0,3" />
            <Setter Property="FontSize" Value="23" />
        </Style>


        <Style Selector="Button#homeButton &gt; PathIcon">
            <Setter Property="Foreground" Value="#808080" />
        </Style>

        <Style Selector="Button#homeButton:pointerover &gt; PathIcon">
            <Setter Property="Foreground" Value="White" />
        </Style>

        <Style Selector="Button.iconButton &gt; Path">
            <Setter Property="Fill" Value="#808080" />
            <!--  Dark grey default  -->
            <Setter Property="Stretch" Value="Uniform" />
            <Setter Property="Width" Value="20" />
            <Setter Property="Height" Value="20" />
        </Style>

        <Style Selector="Button.iconButton:pointerover &gt; Path">
            <Setter Property="Fill" Value="White" />
            <!--  White on hover  -->
        </Style>


    </Window.Styles>


    <!--  Panel acts as a container and the background  -->
    <Panel>
        <!--  Adjusting the "background"  -->
        <ExperimentalAcrylicBorder IsHitTestVisible="False">
            <ExperimentalAcrylicBorder.Material>
                <ExperimentalAcrylicMaterial
                    BackgroundSource="Digger"
                    MaterialOpacity="0.85"
                    TintColor="Black"
                    TintOpacity="1" />
            </ExperimentalAcrylicBorder.Material>
        </ExperimentalAcrylicBorder>

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="30" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>


            <!--  Top Header / Title Bar  -->
            <Border
                Name="TopHeader"
                Grid.Row="0"
                Height="30"
                Margin="0,0,0,0"
                HorizontalAlignment="Stretch"
                VerticalAlignment="Top"
                PointerPressed="OnPointerPressed"
                ZIndex="3">
                <Border.Background>
                    <LinearGradientBrush StartPoint="0,15" EndPoint="0,6">
                        <GradientStop Offset="0" Color="#FF222222" />
                        <GradientStop Offset="1" Color="#FF333333" />
                    </LinearGradientBrush>
                </Border.Background>
                <Border
                    Height="1"
                    HorizontalAlignment="Stretch"
                    VerticalAlignment="Bottom"
                    Background="#99F04444" />
                <Border.Effect>
                    <DropShadowEffect
                        BlurRadius="12"
                        OffsetX="0"
                        OffsetY="2"
                        Opacity="0.7"
                        Color="Black" />
                </Border.Effect>
            </Border>

            <!--  Danfoss logo and home button container  -->
            <StackPanel
                Grid.Row="0"
                HorizontalAlignment="Left"
                Orientation="Horizontal"
                ZIndex="4">
                <!--  Danfoss logo  -->
                <Image
                    Name="DanfossLogo"
                    Width="60"
                    Source="{SvgImage ../Assets/Danfoss-Logo.svg}"
                    Stretch="Uniform" />

                <!--  Home button with PathIcon  -->
                <Button
                    x:Name="homeButton"
                    Width="30"
                    Height="30"
                    Margin="10,0,0,0"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Background="Transparent"
                    BorderThickness="0"
                    Click="OnHomeButtonClick">
                    <PathIcon
                        Width="20"
                        Height="20"
                        Data="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z" />
                </Button>

                <Button
                    x:Name="settingsButton"
                    Width="30"
                    Height="30"
                    Margin="5,0,0,0"
                    Background="Transparent"
                    BorderThickness="0"
                    Classes="iconButton gear-clockwise">

                    <Button.Styles>


                        <Style Selector="Button.gear-clockwise:pointerover &gt; Path">
                            <Style.Animations>
                                <Animation IterationCount="1" Duration="0:0:0.6">
                                    <KeyFrame Cue="0%">
                                        <Setter Property="RotateTransform.Angle" Value="0" />
                                    </KeyFrame>
                                    <KeyFrame Cue="100%">
                                        <Setter Property="RotateTransform.Angle" Value="360" />
                                    </KeyFrame>
                                </Animation>
                            </Style.Animations>
                        </Style>
                    </Button.Styles>

                    <Path Data="M2.26726 6.15309c.26172-.80594.69285-1.54574 1.26172-2.1727.09619-.10602.24711-.14381.38223-.0957l1.35948.484c.36857.13115.77413-.06004.90584-.42703.01295-.03609.02293-.07316.02982-.1108l.259-1.41553c.02575-.14074.13431-.25207.27484-.28186.41118-.08714.83276-.13146 1.25987-.13146.42685 0 .84818.04427 1.25912.1313.14049.02976.24904.14102.27485.28171l.25973 1.41578c.07022.38339.43924.63751.82434.5676.0379-.00688.0751-.01681.1113-.02969l1.3595-.48402c.1351-.04811.286-.01032.3822.0957.5689.62696 1 1.36676 1.2618 2.1727.0441.13596.0015.28502-.1079.3775l-1.1019.93152c-.2983.25225-.3348.69756-.0815.99463.0249.02921.0522.05635.0815.08114l1.1019.93153c.1094.09248.152.24154.1079.37751-.2618.80598-.6929 1.54578-1.2618 2.17268-.0962.106-.2471.1438-.3822.0957l-1.3595-.484c-.3685-.1311-.7741.0601-.90581.427-.01295.0361-.02293.0732-.02985.111l-.25971 1.4157c-.02581.1407-.13436.2519-.27485.2817-.41094.087-.83227.1313-1.25912.1313-.42711 0-.84869-.0443-1.25987-.1315-.14053-.0298-.24909-.1411-.27484-.2818l-.25899-1.4155c-.07022-.3834-.43928-.6375-.82433-.5676-.03787.0069-.0751.0168-.11128.0297l-1.35954.484c-.13512.0481-.28604.0103-.38223-.0957-.56887-.6269-1-1.3667-1.26172-2.17268-.04415-.13597-.00158-.28503.10783-.37751l1.1019-.93152c.29835-.25225.33484-.69756.08151-.99463-.02491-.02921-.05217-.05635-.0815-.08114l-1.10191-.93153c-.10941-.09248-.15198-.24154-.10783-.3775zm3.98268 1.84685c0 .9665.7835 1.75 1.75 1.75s1.75-.7835 1.75-1.75-.7835-1.75-1.75-1.75-1.75.7835-1.75 1.75z" />
                </Button>
            </StackPanel>

            <!--  Bottom Header / Menu Overlay  -->
            <Border
                Grid.Row="1"
                Height="45"
                VerticalAlignment="Top"
                ZIndex="1">
                <Border.Background>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                        <GradientStop Offset="0" Color="#FF7043" />
                        <GradientStop Offset="0.3" Color="#FF5722" />
                        <GradientStop Offset="0.6" Color="#F44336" />
                        <GradientStop Offset="1" Color="#E32F2F" />
                    </LinearGradientBrush>
                </Border.Background>
                <Border.Effect>
                    <DropShadowEffect
                        BlurRadius="10"
                        OffsetX="2"
                        OffsetY="2"
                        Opacity="0.6"
                        Color="#F44336" />
                </Border.Effect>
            </Border>

            <!--  Pages (Views)  -->
            <TabControl
                Grid.Row="1"
                Padding="0,0,0,0"
                TabStripPlacement="Top"
                ZIndex="2">
                <TabControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <UniformGrid Columns="2" />
                    </ItemsPanelTemplate>
                </TabControl.ItemsPanel>

                <!--  HeaderTemplate for the TabItems  -->
                <TabControl.Resources>
                    <DataTemplate x:Key="TabHeaderTemplate">
                        <TextBlock
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            Text="{Binding}" />
                    </DataTemplate>
                </TabControl.Resources>


                <TabItem Header="Asset Manager" HeaderTemplate="{StaticResource TabHeaderTemplate}">
                    <local:AssetManagerView DataContext="{Binding AssetManagerViewModel}" />
                </TabItem>

                <TabItem Header="Optimizer" HeaderTemplate="{StaticResource TabHeaderTemplate}">
                    <local:OptimizerView DataContext="{Binding OptimizerViewModel}" />
                </TabItem>
            </TabControl>
        </Grid>
    </Panel>

</Window>
