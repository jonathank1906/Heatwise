
<Window
    x:Class="Sem2Proj.Views.MainWindow"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:Sem2Proj.Views"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:vm="using:Sem2Proj.ViewModels"
    Title="TitleShouldNotBeVisible"
    Width="1250"
    Height="800"
    MinWidth="1000"
    MinHeight="50"
    d:DesignHeight="450"
    d:DesignWidth="800"
    x:DataType="vm:MainWindowViewModel"
    Background="Transparent"
    ExtendClientAreaToDecorationsHint="True"
    Icon="/Assets/avalonia-logo.ico"
    TransparencyLevelHint="AcrylicBlur"
    WindowStartupLocation="CenterScreen"
    mc:Ignorable="d">

    <!--  Custom styles  -->
<Window.Styles>
        <!-- Style for TabItem -->
        <Style Selector="TabItem">
            <Setter Property="Padding" Value="0,-10"/>
            <Setter Property="HorizontalAlignment" Value="Stretch"/>
            <Setter Property="VerticalAlignment" Value="Stretch"/>
            <Setter Property="Foreground" Value="White"/>
        </Style>

        <!-- Style for selected TabItem -->
        <Style Selector="TabItem:selected">
            <Setter Property="Background">
                <Setter.Value>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                        <GradientStop Color="#80000000" Offset="0"/>
                        <GradientStop Color="#20000000" Offset="1"/>
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Setter Property="Foreground" Value="Black"/>
            <Setter Property="BorderBrush" Value="White"/>
            <Setter Property="BorderThickness" Value="0,0,0,3"/>
        </Style>
    </Window.Styles>

    <!--  Panel acts as a container and the background  -->
    <Panel>
        <!--  Adjusting the "background"  -->
        <ExperimentalAcrylicBorder IsHitTestVisible="False">
            <ExperimentalAcrylicBorder.Material>
                <ExperimentalAcrylicMaterial
                    BackgroundSource="Digger"
                    MaterialOpacity="0.85"
                    TintColor="Black"
                    TintOpacity="1" />
            </ExperimentalAcrylicBorder.Material>
        </ExperimentalAcrylicBorder>
        
        <!--  Header Testing  -->
        <Image
            Width="2500"
            Height="45"
            VerticalAlignment="Top"
            Source="../Assets/header.png"
            Stretch="UniformToFill" />

        <!--  Pages (Views)  -->
        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>
            

 <TabControl Grid.Row="1">
                <TabControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <UniformGrid Columns="4" />
                    </ItemsPanelTemplate>
                </TabControl.ItemsPanel>

                <!-- Define the HeaderTemplate for the TabItems -->
                <TabControl.Resources>
                    <DataTemplate x:Key="TabHeaderTemplate">
                         <TextBlock Text="{Binding}" HorizontalAlignment="Center" VerticalAlignment="Center" Padding="70,0" />
                    </DataTemplate>
                </TabControl.Resources>

                <TabItem Header="Scenario Manager" HeaderTemplate="{StaticResource TabHeaderTemplate}">
                    <local:ScenarioManagerView DataContext="{Binding ScenarioManagerViewModel}" />
                </TabItem>

                <TabItem Header="Asset Manager" HeaderTemplate="{StaticResource TabHeaderTemplate}">
                    <local:AssetManagerView DataContext="{Binding AssetManagerViewModel}" />
                </TabItem>

                <TabItem Header="Optimizer" HeaderTemplate="{StaticResource TabHeaderTemplate}">
                    <local:OptimizerView DataContext="{Binding OptimizerViewModel}" />
                </TabItem>

                <TabItem Header="Home" HeaderTemplate="{StaticResource TabHeaderTemplate}">
                    <local:HomeView DataContext="{Binding HomeViewModel}" />
                </TabItem>
            </TabControl>
        </Grid>

    </Panel>
    
</Window>