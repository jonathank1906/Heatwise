<Window
    x:Class="Sem2Proj.Views.MainWindow"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:Sem2Proj.Views"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:vm="using:Sem2Proj.ViewModels"
    Title="TitleShouldNotBeVisible"
    Width="1250"
    Height="800"
    MinWidth="620"
    MinHeight="80"
    d:DesignWidth="1250"
    d:DesignHeight="800"
    x:DataType="vm:MainWindowViewModel"
    Background="Transparent"
    ExtendClientAreaTitleBarHeightHint="0"
    ExtendClientAreaToDecorationsHint="True"
    TransparencyLevelHint="AcrylicBlur"
    WindowStartupLocation="CenterScreen"
    WindowState="Maximized"
    mc:Ignorable="d">

    <!--  Custom styles  -->
    <Window.Styles>
        <!--  Style for TabItem  -->
        <Style Selector="TabItem">
            <Setter Property="Padding" Value="0,-10" />
            <Setter Property="HorizontalAlignment" Value="Stretch" />
            <Setter Property="VerticalAlignment" Value="Stretch" />
            <Setter Property="Foreground" Value="Black" />
            <Setter Property="FontSize" Value="22" />
            <Setter Property="FontWeight" Value="Bold" />
        </Style>

        <!--  Style for selected TabItem  -->
        <Style Selector="TabItem:selected">
            <Setter Property="Background">
                <Setter.Value>
                    <LinearGradientBrush StartPoint="0,50" EndPoint="0,100">
                        <GradientStop Offset="0" Color="#3F000000" />
                        <GradientStop Offset="1" Color="#10000000" />
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Setter Property="Foreground" Value="White" />
            <Setter Property="BorderBrush" Value="White" />
            <Setter Property="BorderThickness" Value="0,0,0,3" />
            <Setter Property="FontSize" Value="23" />
        </Style>

        <!--  Style for hovered TabItem  -->
        <Style Selector="TabItem:pointerover">
            <Setter Property="Background">
                <Setter.Value>
                    <LinearGradientBrush StartPoint="0,50" EndPoint="0,100">
                        <GradientStop Offset="0" Color="#20000000" />
                        <GradientStop Offset="1" Color="#10000000" />
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Setter Property="Foreground" Value="Black" />
            <Setter Property="BorderBrush" Value="#30FFFFFF" />
            <Setter Property="BorderThickness" Value="0,0,0,3" />
            <Setter Property="FontSize" Value="23" />
        </Style>

        <!--  Style for selected and hovered TabItem  -->
        <Style Selector="TabItem:selected:pointerover">
            <Setter Property="Background">
                <Setter.Value>
                    <LinearGradientBrush StartPoint="0,50" EndPoint="0,100">
                        <GradientStop Offset="0" Color="#3F000000" />
                        <GradientStop Offset="1" Color="#10000000" />
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Setter Property="Foreground" Value="White" />
            <Setter Property="BorderBrush" Value="White" />
            <Setter Property="BorderThickness" Value="0,0,0,3" />
            <Setter Property="FontSize" Value="23" />
        </Style>
    </Window.Styles>


    <!--  Panel acts as a container and the background  -->
    <Panel>
        <!--  Adjusting the "background"  -->
        <ExperimentalAcrylicBorder IsHitTestVisible="False">
            <ExperimentalAcrylicBorder.Material>
                <ExperimentalAcrylicMaterial
                    BackgroundSource="Digger"
                    MaterialOpacity="0.85"
                    TintColor="Black"
                    TintOpacity="1" />
            </ExperimentalAcrylicBorder.Material>
        </ExperimentalAcrylicBorder>

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="30" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>


            <!--  Top Header / Title Bar  -->
            <Border
                Name="TopHeader"
                Grid.Row="0"
                Height="30"
                Margin="0,0,0,0"
                HorizontalAlignment="Stretch"
                VerticalAlignment="Top"
                PointerPressed="OnPointerPressed"
                ZIndex="3">
                <Border.Background>
                    <LinearGradientBrush StartPoint="0,15" EndPoint="0,6">
                        <GradientStop Offset="0" Color="#FF222222" />
                        <GradientStop Offset="1" Color="#FF333333" />
                    </LinearGradientBrush>
                </Border.Background>
                <Border
                    Height="1"
                    HorizontalAlignment="Stretch"
                    VerticalAlignment="Bottom"
                    Background="#99F04444" />
                <Border.Effect>
                    <DropShadowEffect
                        BlurRadius="12"
                        OffsetX="0"
                        OffsetY="2"
                        Opacity="0.7"
                        Color="Black" />
                </Border.Effect>
            </Border>

            <!--  Danfoss logo and home button container  -->
            <StackPanel
                Grid.Row="0"
                HorizontalAlignment="Left"
                Orientation="Horizontal"
                ZIndex="4">
                <!--  Danfoss logo  -->
                <Image
                    Name="DanfossLogo"
                    Width="60"
                    Source="{SvgImage ../Assets/Danfoss-Logo.svg}"
                    Stretch="Uniform" />
                
                <!--  Home button with PathIcon  -->
                <Button
                    Width="30"
                    Height="30"
                    Margin="10,0,0,0"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    Background="Transparent"
                    BorderThickness="0"
                    Click="OnHomeButtonClick">
                    <PathIcon
                        Width="20"
                        Height="20"
                        Data="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"
                        Foreground="White" />
                </Button>
            </StackPanel>

            <!--  Bottom Header / Menu Overlay  -->
            <Border
                Grid.Row="1"
                Height="45"
                VerticalAlignment="Top"
                ZIndex="1">
                <Border.Background>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                        <GradientStop Offset="0" Color="#FF7043" />
                        <GradientStop Offset="0.3" Color="#FF5722" />
                        <GradientStop Offset="0.6" Color="#F44336" />
                        <GradientStop Offset="1" Color="#E32F2F" />
                    </LinearGradientBrush>
                </Border.Background>
                <Border.Effect>
                    <DropShadowEffect
                        BlurRadius="10"
                        OffsetX="2"
                        OffsetY="2"
                        Opacity="0.6"
                        Color="#F44336" />
                </Border.Effect>
            </Border>

            <!--  Pages (Views)  -->
            <TabControl
                Grid.Row="1"
                Padding="0,0,0,0"
                TabStripPlacement="Top"
                ZIndex="2">
                <TabControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <UniformGrid Columns="2" />
                    </ItemsPanelTemplate>
                </TabControl.ItemsPanel>

                <!--  HeaderTemplate for the TabItems  -->
                <TabControl.Resources>
                    <DataTemplate x:Key="TabHeaderTemplate">
                        <TextBlock
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center"
                            Text="{Binding}" />
                    </DataTemplate>
                </TabControl.Resources>


                <TabItem Header="Asset Manager" HeaderTemplate="{StaticResource TabHeaderTemplate}">
                    <local:AssetManagerView DataContext="{Binding AssetManagerViewModel}" />
                </TabItem>

                <TabItem Header="Optimizer" HeaderTemplate="{StaticResource TabHeaderTemplate}">
                    <local:OptimizerView DataContext="{Binding OptimizerViewModel}" />
                </TabItem>
            </TabControl>
        </Grid>
    </Panel>

</Window>