<UserControl
    x:Class="Sem2Proj.Views.CreateView"
    xmlns="https://github.com/avaloniaui"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:vm="using:Sem2Proj.ViewModels"
    Width="600"
    
    x:DataType="vm:AssetManagerViewModel">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="30" />
            <RowDefinition Height="*" />
            <RowDefinition Height="Auto" />
        </Grid.RowDefinitions>

        <TabControl Grid.Row="1">
            <TabControl.Styles>
                <Style Selector="TabItem">
                    <Setter Property="Background" Value="#333333" />
                    <Setter Property="Foreground" Value="White" />
                    <Setter Property="FontWeight" Value="Normal" />
                    <Setter Property="Padding" Value="15,10" />
                    <Setter Property="BorderThickness" Value="0" />
                </Style>

                <Style Selector="TabItem:selected">
                    <Setter Property="Background" Value="#252526" />
                    <Setter Property="FontWeight" Value="Bold" />
                </Style>

                <Style Selector="TabControl /template/ TabStrip#HeaderPanel">
                    <Setter Property="Background" Value="#333333" />
                </Style>
            </TabControl.Styles>

            <!--  Heat Production Unit Tab  -->
            <TabItem Header="Production Unit">
                <ScrollViewer Padding="20">
                    <StackPanel Spacing="15">
                        <StackPanel Spacing="5">
                            <Button
                                Padding="10,5"
                                Background="#3E3E42"
                                BorderBrush="#3E3E42"
                                Content="Assign to Presets"
                                CornerRadius="5"
                                Foreground="White"
                                ToolTip.Tip="Assign this machine to one or more presets">
                                <Button.Flyout>
                                    <Flyout Placement="Bottom">
                                        <Border
                                            Width="300"
                                            Padding="10"
                                            Background="#252526"
                                            CornerRadius="5">
                                            <StackPanel>
                                                <TextBlock
                                                    Margin="0,0,0,10"
                                                    FontSize="16"
                                                    Foreground="White"
                                                    Text="Assign to Presets:" />

                                                <ItemsControl ItemsSource="{Binding AvailablePresets}">
                                                    <ItemsControl.ItemTemplate>
                                                        <DataTemplate>
                                                            <CheckBox
                                                                Margin="0,5"
                                                                Content="{Binding PresetName}"
                                                                Foreground="White"
                                                                IsChecked="{Binding IsSelected, Mode=TwoWay}" />
                                                        </DataTemplate>
                                                    </ItemsControl.ItemTemplate>
                                                </ItemsControl>
                                            </StackPanel>
                                        </Border>
                                    </Flyout>
                                </Button.Flyout>
                            </Button>
                        </StackPanel>

                        <StackPanel Spacing="5">
                            <TextBlock Foreground="White" Text="Machine Name:" />
                            <TextBox
                                Background="#3E3E3E"
                                CaretBrush="White"
                                Foreground="White"
                                Text="{Binding MachineName}"
                                Watermark="Enter machine name" />
                        </StackPanel>

                        <StackPanel Spacing="5">
                            <TextBlock Foreground="White" Text="Max Heat Output (MW):" />
                            <TextBox
                                Background="#3E3E3E"
                                CaretBrush="White"
                                Foreground="White"
                                Text="{Binding MaxHeatOutput}"
                                Watermark="0.00" />
                        </StackPanel>

                        <StackPanel Spacing="5">
                            <TextBlock Foreground="White" Text="Max Electricity Output (MW):" />
                            <TextBox
                                Background="#3E3E3E"
                                CaretBrush="White"
                                Foreground="White"
                                Text="{Binding MaxElectricityOutput}"
                                Watermark="0.00" />
                        </StackPanel>

                        <StackPanel Spacing="5">
                            <TextBlock Foreground="White" Text="Production Cost (DKK/MWh):" />
                            <TextBox
                                Background="#3E3E3E"
                                CaretBrush="White"
                                Foreground="White"
                                Text="{Binding ProductionCost}"
                                Watermark="0.00" />
                        </StackPanel>

                        <StackPanel Spacing="5">
                            <TextBlock Foreground="White" Text="COâ‚‚ Emissions (kg/MWh):" />
                            <TextBox
                                Background="#3E3E3E"
                                CaretBrush="White"
                                Foreground="White"
                                Text="{Binding Co2Emissions}"
                                Watermark="0.00" />
                        </StackPanel>

                        <StackPanel Spacing="5">
                            <TextBlock Foreground="White" Text="Gas Consumption (units/hour):" />
                            <TextBox
                                Background="#3E3E3E"
                                CaretBrush="White"
                                Foreground="White"
                                Text="{Binding GasConsumption}"
                                Watermark="0.00" />
                        </StackPanel>

                        <StackPanel Spacing="5">
                            <TextBlock Foreground="White" Text="Oil Consumption (units/hour):" />
                            <TextBox
                                Background="#3E3E3E"
                                CaretBrush="White"
                                Foreground="White"
                                Text="{Binding OilConsumption}"
                                Watermark="0.00" />
                        </StackPanel>

                        <StackPanel Spacing="5">
                            <TextBlock Foreground="White" Text="Machine Image:" />
                            <Button
                                Padding="10,5"
                                HorizontalAlignment="Left"
                                Background="#3E3E42"
                            
                              Click="OnBrowseButtonClick"
                                Content="Browse Image"
                                Foreground="White" />
                            <TextBlock
                                Margin="0,5,0,0"
                                Foreground="LightGray"
                                Text="{Binding ImagePath, StringFormat='Selected: {0}'}" />
                        </StackPanel>
                        <Button
                            Width="200"
                            Height="60"
                            Background="#0078d7"
                           Command="{Binding CreateMachineCommand}"
                            CornerRadius="10">
                            <TextBlock
                                FontSize="18"
                                Foreground="{DynamicResource TextColor}"
                                Text="Create" />
                        </Button>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>

            <!--  Preset Tab  -->
            <TabItem Header="Preset">
                <ScrollViewer Padding="20">
                    <StackPanel Spacing="15">
                        <StackPanel Spacing="5">
                            <TextBlock Foreground="White" Text="Preset Name:" />
                            <TextBox
                                Background="#3E3E3E"
                                CaretBrush="White"
                                Foreground="White"
                                Text="{Binding PresetName}"
                                Watermark="Enter preset name" />
                        </StackPanel>

                        <Button
                            Width="200"
                            Height="60"
                            Background="#0078d7"
                            Command="{Binding CreatePresetCommand}"
                            CornerRadius="10">
                            <TextBlock
                                FontSize="18"
                                Foreground="{DynamicResource TextColor}"
                                Text="Create" />
                        </Button>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
        </TabControl>
    </Grid>
</UserControl>
